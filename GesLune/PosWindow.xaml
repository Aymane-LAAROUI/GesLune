<Window x:Class="GesLune.PosWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vms="clr-namespace:GesLune.Sdk.ViewModels;assembly=GesLune.Sdk"
        xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="{Binding Title}"
        Height="450"
        Width="1000"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        ButtonBase.Click="Window_Click"
        >
    <!--<Window.DataContext>
        <vms:PosViewModel/>
    </Window.DataContext>-->
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

            <UniformGrid
                Background="#00B140"
                Columns="2"
                Grid.Row="0"
                Grid.Column="0"
                >
                <Button Style="{StaticResource MaterialDesignIconButton}"
                        Command="{Binding Select}"
                        Click="ChoixClientButton_Click"
                        >
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <TextBlock Text="{Binding Ticket.Document_Acteur_Nom}"/>
                        <md:PackIcon Kind="PersonAdd"/>
                    </StackPanel>
                </Button>
                <Button Style="{StaticResource MaterialDesignIconButton}"
                        Command="{Binding DeleteLigneCommand}"
                        >
                    <md:PackIcon Kind="Trash"/>
                </Button>
            </UniformGrid>
        
            <TextBox Text="{Binding SearchArticle,UpdateSourceTrigger=PropertyChanged}"
                     Background="#00B140"
                     FontSize="20"
                     Grid.Row="0"
                     Grid.Column="1"
                     md:HintAssist.HelperTextFontSize="16"
                     md:HintAssist.Hint="Tapez un nom, un code à barre..."
                     KeyDown="TextBox_KeyDown"
                     />

        <!-- First Column -->
        <Grid Grid.Column="0" Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
    
            <!-- Content for the first column -->
            <DataGrid Grid.Row="0"
                      Background="White"
                      ItemsSource="{Binding Lignes}"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      SelectedItem="{Binding SelectedLigne}"
                      >
                <DataGrid.Columns>
                    <DataGridTextColumn Width="*" Header="Quantité" Binding="{Binding Document_Ligne_Quantity}"/>
                    <DataGridTextColumn Width="3*" Header="Désignation" Binding="{Binding Document_Ligne_Article_Nom}"/>
                    <DataGridTextColumn Width="*" Header="Prix U" Binding="{Binding Document_Ligne_Prix_Unitaire}"/>
                    <DataGridTextColumn Width="*" Header="Sous total" Binding="{Binding Document_Ligne_Total}"/>
                </DataGrid.Columns>
            </DataGrid>
            <DockPanel Grid.Row="1"
                       Background="LightCoral"
                       >
                <TextBlock Text="Total:"
                           FontSize="24"
                           Padding="10"
                           />
                <Label Content="{Binding Total}"
                       ContentStringFormat=" {0} DH"
                       FontSize="24"
                       Padding="10"
                       />
            </DockPanel>
            <UniformGrid Grid.Row="2" Rows="1">
                <Button Foreground="White" Padding="0 10" Content="Espece" Background="#00B140"/>
                <Button Foreground="White" Padding="0 10" Content="TPE" Background="#00B140"/>
            </UniformGrid>
            <UniformGrid Grid.Row="3" Columns="6">
                <Button Content="Save"/>
                <Button Content="Notes"/>
                <Button Content="Terminal"/>
                <Button Content="Discount"/>
                <Button Content="Drawer"/>
                <Button Content="More"/>
            </UniformGrid>
        </Grid>
        
        <!-- Second Column -->
        <Grid Grid.Column="1" Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="1*"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="3*"/>
            </Grid.RowDefinitions>

            <!-- Content for the second column -->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="5*" />
                    <ColumnDefinition Width="1*" />
                </Grid.ColumnDefinitions>
                <UniformGrid Grid.Column="0"
                             Columns="6"
                             Rows="2"
                             Name="CategoriesGrid"/>
                <UniformGrid Grid.Column="1" Columns="1">
                    <Button Margin="5" Name="CategoriePagePrecedenteButton" Click="CategoriePagePrecedenteButton_Click">
                        <md:PackIcon Kind="ArrowBack"/>
                    </Button>
                    <Button Margin="5" Name="CategoriePageSuivanteButton" Click="CategoriePageSuivanteButton_Click">
                        <md:PackIcon Kind="ArrowForward"/>
                    </Button>
                </UniformGrid>
                <Label Content="{Binding CategoriePage}"
                       ContentStringFormat=" Page {0}"
                       VerticalContentAlignment="Bottom"
                       HorizontalAlignment="Right"
                       />
            </Grid>
            <Separator Grid.Row="1"/>
            <UniformGrid Grid.Row="2"
                         Columns="4"
                         Rows="4"
                         Name="ArticlesGrid"
                         Margin="0 10 0 0"
                         >
                <UniformGrid.Resources>
                    <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignRaisedButton}">
                        <Setter Property="Width" Value="auto"/>
                        <Setter Property="Height" Value="auto"/>
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="Foreground" Value="Black"/>
                        <Setter Property="md:ElevationAssist.Elevation" Value="Dp16"/>
                    </Style>
                </UniformGrid.Resources>
                
            </UniformGrid>
        </Grid>
    </Grid>
</Window>
